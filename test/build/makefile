TOP_DIR=${AGENT_ROOT}
BIN_DIR=${AGENT_ROOT}/bin
PLUGINS_DIR=${AGENT_ROOT}/bin/plugins

SRC_AGENT_DIR = ${TOP_DIR}/src/src/agent
SRC_ROOT_EXEC_DIR = ${TOP_DIR}/src/src/rootexec
SRC_CRYPTO_DIR = ${TOP_DIR}/src/src/tools/crypto
SRC_SCRIPTSIGN_DIR = ${TOP_DIR}/src/src/tools/scriptsign
SRC_DATAMIGRATION_DIR = ${TOP_DIR}/src/src/tools/datamigration
SRC_MONITOR_DIR = ${TOP_DIR}/src/src/tools/monitor
SRC_XMLCFG_DIR = ${TOP_DIR}/src/src/tools/xmlcfg
SRC_AGENTCLI_DIR = ${TOP_DIR}/src/src/tools/agentcli
SRC_GETINPUT_DIR = ${TOP_DIR}/src/src/tools/getinput
SRC_APPS_DIR = ${TOP_DIR}/src/src/apps
SRC_APPS_APP_DIR = ${TOP_DIR}/src/src/apps/app
SRC_APPS_DB2_DIR = ${TOP_DIR}/src/src/apps/db2
SRC_APPS_ORACLE_DIR = ${TOP_DIR}/src/src/apps/oracle
SRC_APPS_SYBASE_DIR = ${TOP_DIR}/src/src/apps/sybase
SRC_APPS_HANA_DIR = ${TOP_DIR}/src/src/apps/hana
SRC_ARRAY_DIR = ${TOP_DIR}/src/src/array
SRC_CLUSTER_DIR = ${TOP_DIR}/src/src/cluster
SRC_COMMON_DIR = ${TOP_DIR}/src/src/common
SRC_DEVICE_DIR = ${TOP_DIR}/src/src/device
SRC_HOST_DIR = ${TOP_DIR}/src/src/host
SRC_PLUGINFX_DIR = ${TOP_DIR}/src/src/pluginfx
SRC_PLUGINS_DIR = ${TOP_DIR}/src/src/plugins
SRC_PLUGINS_DEVICE_DIR = ${TOP_DIR}/src/src/plugins/device
SRC_PLUGINS_HOST_DIR = ${TOP_DIR}/src/src/plugins/host
SRC_PLUGINS_DB2_DIR = ${TOP_DIR}/src/src/plugins/db2
SRC_PLUGINS_ORACLE_DIR = ${TOP_DIR}/src/src/plugins/oracle
SRC_PLUGINS_SYBASE_DIR = ${TOP_DIR}/src/src/plugins/sybase
SRC_PLUGINS_HANA_DIR = ${TOP_DIR}/src/src/plugins/hana
SRC_PLUGINS_CLUSTER_DIR = ${TOP_DIR}/src/src/plugins/cluster
SRC_PLUGINS_APP_DIR = ${TOP_DIR}/src/src/plugins/app
SRC_REST_DIR = ${TOP_DIR}/src/src/rest
SRC_ALARM_DIR = ${TOP_DIR}/src/src/alarm
SRC_SECUREC_DIR = ${TOP_DIR}/platform/securec/src
SRC_JSON_DIR = ${TOP_DIR}/open_src/jsoncpp/src/lib_json
SRC_TINYXML_DIR = ${TOP_DIR}/open_src/tinyxml

BASE_INC = ${TOP_DIR}/src/inc
INC_SECUREC_DIR = ${TOP_DIR}/platform/securec/include
INC_KMC_MAIN_DIR = ${TOP_DIR}/platform/kmc
INC_KMC_INC_DIR = ${TOP_DIR}/platform/kmc/include

OPEN_SRC_DIR = ${TOP_DIR}/open_src
PLATORM_SRC_DIR = ${TOP_DIR}/platform
BASE_OPEN_INC = ${OPEN_SRC_DIR}
OPEN_OPENSSL_DIR = ${OPEN_SRC_DIR}/openssl
OPEN_SNMP_DIR = ${OPEN_SRC_DIR}/snmp++
OPEN_FCGI_DIR = ${OPEN_SRC_DIR}/fcgi
OPEN_SQLITE_DIR = ${OPEN_SRC_DIR}/sqlite
OPEN_FCGI_DIR = ${OPEN_SRC_DIR}/fcgi
OPEN_JSON_DIR = ${OPEN_SRC_DIR}/jsoncpp
OPEN_TINYXML_DIR = ${OPEN_SRC_DIR}/tinyxml
SRC_OPEN_SQLITE_DIR = ${OPEN_SQLITE_DIR}
INC_OPEN_SQLITE_DIR = ${OPEN_SQLITE_DIR}
INC_OPEN_OPENSSL_DIR = ${OPEN_OPENSSL_DIR}/include
INC_OPEN_SNMP_DIR = ${OPEN_SNMP_DIR}/include
INC_OPEN_SNMP_MAIN_DIR = ${OPEN_SNMP_DIR}
INC_OPEN_JSON_DIR = ${OPEN_JSON_DIR}/include
SRC_OPEN_TINYXML_DIR = ${OPEN_TINYXML_DIR}
INC_OPEN_TINYXML_DIR = ${OPEN_TINYXML_DIR}
OPEN_OPENSSL_LIB_DIR = ${OPEN_OPENSSL_DIR}/.openssl/lib
OPEN_SNMP_LIB_DIR = ${OPEN_SNMP_DIR}/src/.libs
OPEN_FCGI_LIB_DIR = ${OPEN_FCGI_DIR}/.fcgi/lib
KMC_LIB_DIR = ${PLATORM_SRC_DIR}/kmc/lib

OBJ_DIR = ${TOP_DIR}/obj
OBJ_AGENT_DIR = ${OBJ_DIR}/agent
OBJ_ROOT_EXEC_DIR = ${OBJ_DIR}/rootexec
OBJ_MONITOR_DIR = ${OBJ_DIR}/monitor
OBJ_CRYPTO_DIR = ${OBJ_DIR}/crypto
OBJ_SCRIPTSIGN_DIR = ${OBJ_DIR}/scriptsign
OBJ_DATAMIGRATION_DIR = ${OBJ_DIR}/datamigration
OBJ_XMLCFG_DIR = ${OBJ_DIR}/xmlcfg
OBJ_AGENTCLI_DIR = ${OBJ_DIR}/agentcli
OBJ_GETINPUT_DIR = ${OBJ_DIR}/getinput
OBJ_APPS_DIR = ${OBJ_DIR}/apps
OBJ_APPS_APP_DIR = ${OBJ_DIR}/apps/app
OBJ_APPS_DB2_DIR = ${OBJ_DIR}/apps/db2
OBJ_APPS_EXCHANGE_DIR = ${OBJ_DIR}/apps/exchange
OBJ_APPS_ORACLE_DIR = ${OBJ_DIR}/apps/oracle
OBJ_APPS_SYBASE_DIR = ${OBJ_DIR}/apps/sybase
OBJ_APPS_HANA_DIR = ${OBJ_DIR}/apps/hana
OBJ_APPS_SQLSERVER_DIR = ${OBJ_DIR}/apps/sqlserver
OBJ_ARRAY_DIR = ${OBJ_DIR}/array
OBJ_CLUSTER_DIR = ${OBJ_DIR}/cluster
OBJ_COMMON_DIR = ${OBJ_DIR}/common
OBJ_DEVICE_DIR = ${OBJ_DIR}/device
OBJ_HOST_DIR = ${OBJ_DIR}/host
OBJ_PLUGINFX_DIR = ${OBJ_DIR}/pluginfx
OBJ_PLUGINS_DIR = ${OBJ_DIR}/plugins
OBJ_PLUGINS_DEVICE_DIR = ${OBJ_DIR}/plugins/device
OBJ_PLUGINS_HOST_DIR = ${OBJ_DIR}/plugins/host
OBJ_PLUGINS_DB2_DIR = ${OBJ_DIR}/plugins/db2
OBJ_PLUGINS_ORACLE_DIR = ${OBJ_DIR}/plugins/oracle
OBJ_PLUGINS_SYBASE_DIR = ${OBJ_DIR}/plugins/sybase
OBJ_PLUGINS_HANA_DIR = ${OBJ_DIR}/plugins/hana
OBJ_PLUGINS_CLUSTER_DIR = ${OBJ_DIR}/plugins/cluster
OBJ_PLUGINS_APP_DIR = ${OBJ_DIR}/plugins/app
OBJ_REST_DIR = ${OBJ_DIR}/rest
OBJ_ALARM_DIR = ${OBJ_DIR}/alarm
OBJ_SQLITE_DIR = ${OBJ_DIR}/sqlite
OBJ_JSON_DIR = ${OBJ_DIR}/json
OBJ_TINYXML_DIR = ${OBJ_DIR}/tinyxml
OBJ_SECUREC_DIR = ${OBJ_DIR}/securec

AGENT_SRCS = $(wildcard ${SRC_AGENT_DIR}/*.cpp)
AGENT_OBJS = $(patsubst ${SRC_AGENT_DIR}/%.cpp, ${OBJ_AGENT_DIR}/%.o, $(AGENT_SRCS))
ROOT_EXEC_SRCS = $(wildcard ${SRC_ROOT_EXEC_DIR}/*.cpp)
ROOT_EXEC_OBJS = $(patsubst ${SRC_ROOT_EXEC_DIR}/%.cpp, ${OBJ_ROOT_EXEC_DIR}/%.o, $(ROOT_EXEC_SRCS))
CRYPTO_SRCS = $(wildcard ${SRC_CRYPTO_DIR}/*.cpp)
CRYPTO_OBJS = $(patsubst ${SRC_CRYPTO_DIR}/%.cpp, ${OBJ_CRYPTO_DIR}/%.o, $(CRYPTO_SRCS))
SCRIPTSIGN_SRCS = $(wildcard ${SRC_SCRIPTSIGN_DIR}/*.cpp)
SCRIPTSIGN_OBJS = $(patsubst ${SRC_SCRIPTSIGN_DIR}/%.cpp, ${OBJ_SCRIPTSIGN_DIR}/%.o, $(SCRIPTSIGN_SRCS))
DATAMIGRATION_SRCS = $(wildcard ${SRC_DATAMIGRATION_DIR}/*.cpp)
DATAMIGRATION_OBJS = $(patsubst ${SRC_DATAMIGRATION_DIR}/%.cpp, ${OBJ_DATAMIGRATION_DIR}/%.o, $(DATAMIGRATION_SRCS))
MONITOR_SRCS = $(wildcard ${SRC_MONITOR_DIR}/*.cpp)
MONITOR_OBJS = $(patsubst ${SRC_MONITOR_DIR}/%.cpp, ${OBJ_MONITOR_DIR}/%.o, $(MONITOR_SRCS))
XMLCFG_SRCS = $(wildcard ${SRC_XMLCFG_DIR}/*.cpp)
XMLCFG_OBJS = $(patsubst ${SRC_XMLCFG_DIR}/%.cpp, ${OBJ_XMLCFG_DIR}/%.o, $(XMLCFG_SRCS))
AGENTCLI_SRCS = $(wildcard ${SRC_AGENTCLI_DIR}/*.cpp)
AGENTCLI_OBJS = $(patsubst ${SRC_AGENTCLI_DIR}/%.cpp, ${OBJ_AGENTCLI_DIR}/%.o, $(AGENTCLI_SRCS))
GETINPUT_SRCS = $(wildcard ${SRC_GETINPUT_DIR}/*.cpp)
GETINPUT_OBJS = $(patsubst ${SRC_GETINPUT_DIR}/%.cpp, ${OBJ_GETINPUT_DIR}/%.o, $(GETINPUT_SRCS))
APPS_APP_SRCS = $(wildcard ${SRC_APPS_APP_DIR}/*.cpp)
APPS_APP_OBJS = $(patsubst ${SRC_APPS_APP_DIR}/%.cpp, ${OBJ_APPS_APP_DIR}/%.o, $(APPS_APP_SRCS))
APPS_DB2_SRCS = $(wildcard ${SRC_APPS_DB2_DIR}/*.cpp)
APPS_DB2_OBJS = $(patsubst ${SRC_APPS_DB2_DIR}/%.cpp, ${OBJ_APPS_DB2_DIR}/%.o, $(APPS_DB2_SRCS))
APPS_ORACLE_SRCS = $(wildcard ${SRC_APPS_ORACLE_DIR}/*.cpp)
APPS_ORACLE_OBJS = $(patsubst ${SRC_APPS_ORACLE_DIR}/%.cpp, ${OBJ_APPS_ORACLE_DIR}/%.o, $(APPS_ORACLE_SRCS))
APPS_SYBASE_SRCS = $(wildcard ${SRC_APPS_SYBASE_DIR}/*.cpp)
APPS_SYBASE_OBJS = $(patsubst ${SRC_APPS_SYBASE_DIR}/%.cpp, ${OBJ_APPS_SYBASE_DIR}/%.o, $(APPS_SYBASE_SRCS))
APPS_HANA_SRCS = $(wildcard ${SRC_APPS_HANA_DIR}/*.cpp)
APPS_HANA_OBJS = $(patsubst ${SRC_APPS_HANA_DIR}/%.cpp, ${OBJ_APPS_HANA_DIR}/%.o, $(APPS_HANA_SRCS))
ARRAY_RCS = $(wildcard ${SRC_ARRAY_DIR}/*.cpp)
ARRAY_OBJS = $(patsubst ${SRC_ARRAY_DIR}/%.cpp, ${OBJ_ARRAY_DIR}/%.o, $(ARRAY_RCS))
CLUSTER_RCS = $(wildcard ${SRC_CLUSTER_DIR}/*.cpp)
CLUSTER_OBJS = $(patsubst ${SRC_CLUSTER_DIR}/%.cpp, ${OBJ_CLUSTER_DIR}/%.o, $(CLUSTER_RCS))
COMMON_RCS = $(wildcard ${SRC_COMMON_DIR}/*.cpp)
COMMON_OBJS = $(patsubst ${SRC_COMMON_DIR}/%.cpp, ${OBJ_COMMON_DIR}/%.o, $(COMMON_RCS))
DEVICE_RCS = $(wildcard ${SRC_DEVICE_DIR}/*.cpp)
DEVICE_OBJS = $(patsubst ${SRC_DEVICE_DIR}/%.cpp, ${OBJ_DEVICE_DIR}/%.o, $(DEVICE_RCS))
HOST_RCS = $(wildcard ${SRC_HOST_DIR}/*.cpp)
HOST_OBJS = $(patsubst ${SRC_HOST_DIR}/%.cpp, ${OBJ_HOST_DIR}/%.o, $(HOST_RCS))
PLUGINFX_SRCS = $(wildcard ${SRC_PLUGINFX_DIR}/*.cpp)
PLUGINFX_OBJS = $(patsubst ${SRC_PLUGINFX_DIR}/%.cpp, ${OBJ_PLUGINFX_DIR}/%.o, $(PLUGINFX_SRCS))
PLUGINS_SRCS = $(wildcard ${SRC_PLUGINS_DIR}/*.cpp)
PLUGINS_OBJS = $(patsubst ${SRC_PLUGINS_DIR}/%.cpp, ${OBJ_PLUGINS_DIR}/%.o, $(PLUGINS_SRCS))
PLUGINS_DEVICE_SRCS = $(wildcard ${SRC_PLUGINS_DEVICE_DIR}/*.cpp)
PLUGINS_DEVICE_OBJS = $(patsubst ${SRC_PLUGINS_DEVICE_DIR}/%.cpp, ${OBJ_PLUGINS_DEVICE_DIR}/%.o, $(PLUGINS_DEVICE_SRCS))
PLUGINS_HOST_SRCS = $(wildcard ${SRC_PLUGINS_HOST_DIR}/*.cpp)
PLUGINS_HOST_OBJS = $(patsubst ${SRC_PLUGINS_HOST_DIR}/%.cpp, ${OBJ_PLUGINS_HOST_DIR}/%.o, $(PLUGINS_HOST_SRCS))
PLUGINS_DB2_SRCS = $(wildcard ${SRC_PLUGINS_DB2_DIR}/*.cpp)
PLUGINS_DB2_OBJS = $(patsubst ${SRC_PLUGINS_DB2_DIR}/%.cpp, ${OBJ_PLUGINS_DB2_DIR}/%.o, $(PLUGINS_DB2_SRCS))
PLUGINS_APP_SRCS = $(wildcard ${SRC_PLUGINS_APP_DIR}/*.cpp)
PLUGINS_APP_OBJS = $(patsubst ${SRC_PLUGINS_APP_DIR}/%.cpp, ${OBJ_PLUGINS_APP_DIR}/%.o, $(PLUGINS_APP_SRCS))
PLUGINS_ORACLE_SRCS = $(wildcard ${SRC_PLUGINS_ORACLE_DIR}/*.cpp)
PLUGINS_ORACLE_OBJS = $(patsubst ${SRC_PLUGINS_ORACLE_DIR}/%.cpp, ${OBJ_PLUGINS_ORACLE_DIR}/%.o, $(PLUGINS_ORACLE_SRCS))
PLUGINS_SYBASE_SRCS = $(wildcard ${SRC_PLUGINS_SYBASE_DIR}/*.cpp)
PLUGINS_SYBASE_OBJS = $(patsubst ${SRC_PLUGINS_SYBASE_DIR}/%.cpp, ${OBJ_PLUGINS_SYBASE_DIR}/%.o, $(PLUGINS_SYBASE_SRCS))
PLUGINS_HANA_SRCS = $(wildcard ${SRC_PLUGINS_HANA_DIR}/*.cpp)
PLUGINS_HANA_OBJS = $(patsubst ${SRC_PLUGINS_HANA_DIR}/%.cpp, ${OBJ_PLUGINS_HANA_DIR}/%.o, $(PLUGINS_HANA_SRCS))
PLUGINS_CLUSTER_SRCS = $(wildcard ${SRC_PLUGINS_CLUSTER_DIR}/*.cpp)
PLUGINS_CLUSTER_OBJS = $(patsubst ${SRC_PLUGINS_CLUSTER_DIR}/%.cpp, ${OBJ_PLUGINS_CLUSTER_DIR}/%.o, $(PLUGINS_CLUSTER_SRCS))

REST_SRCS = $(wildcard ${SRC_REST_DIR}/*.cpp)
REST_OBJS = $(patsubst ${SRC_REST_DIR}/%.cpp, ${OBJ_REST_DIR}/%.o, $(REST_SRCS))
ALARM_SRCS = $(wildcard ${SRC_ALARM_DIR}/*.cpp)
ALARM_OBJS = $(patsubst ${SRC_ALARM_DIR}/%.cpp, ${OBJ_ALARM_DIR}/%.o, $(ALARM_SRCS))
SECUREC_SRCS = $(wildcard ${SRC_SECUREC_DIR}/*.c)
SECUREC_OBJS = $(patsubst ${SRC_SECUREC_DIR}/%.c, ${OBJ_SECUREC_DIR}/%.o, $(SECUREC_SRCS))
JSON_SRCS = $(wildcard ${SRC_JSON_DIR}/*.cpp)
JSON_OBJS = $(patsubst ${SRC_JSON_DIR}/%.cpp, ${OBJ_JSON_DIR}/%.o, $(JSON_SRCS))
SQLITE_OBJS = ${OBJ_SQLITE_DIR}/sqlite3.o
TINYXML_SRCS = $(wildcard ${SRC_TINYXML_DIR}/tiny*.cpp)
TINYXML_OBJS = $(patsubst ${SRC_TINYXML_DIR}/%.cpp, ${OBJ_TINYXML_DIR}/%.o, $(TINYXML_SRCS))

RD_CFLAGS = -DWITH_OPENSSL

AGENT = ${BIN_DIR}/rdagent
ROOTEXEC = ${BIN_DIR}/rootexec
SCRIPTSIGN = ${BIN_DIR}/scriptsign
DATAMIGRATION = ${BIN_DIR}/datamigration
MONITOR = ${BIN_DIR}/monitor
XMLCFG = ${BIN_DIR}/xmlcfg
AGENTCLI = ${BIN_DIR}/agentcli
GETINPUT = ${BIN_DIR}/getinput
LIB_COMMON = ${BIN_DIR}/libcommon.so
LIB_HOST = ${PLUGINS_DIR}/libhost-${AGENT_BUILD_NUM}.so
LIB_DEVICE = ${PLUGINS_DIR}/libdevice-${AGENT_BUILD_NUM}.so
LIB_ORACLE = ${PLUGINS_DIR}/liboracle-${AGENT_BUILD_NUM}.so
LIB_SYBASE = ${PLUGINS_DIR}/libsybase-${AGENT_BUILD_NUM}.so
LIB_HANA = ${PLUGINS_DIR}/libhana-${AGENT_BUILD_NUM}.so
LIB_DB2 = ${PLUGINS_DIR}/libdb2-${AGENT_BUILD_NUM}.so
LIB_CLUSTER = ${PLUGINS_DIR}/libcluster-${AGENT_BUILD_NUM}.so

GTESTLIB_DIR = ${AGENT_ROOT}/test/obj/gtestlib

TARGET = ${AGENT} ${MONITOR} ${ROOTEXEC} ${SCRIPTSIGN} ${DATAMIGRATION} ${XMLCFG} ${AGENTCLI} ${GETINPUT} ${LIB_COMMON} ${LIB_HOST} ${LIB_DEVICE} ${LIB_ORACLE} ${LIB_SYBASE} ${LIB_HANA} ${LIB_DB2} ${LIB_CLUSTER} ${LIB_TEST}

TEST_FLAGS = -std=c++98

#for test
TEST_ROOT = ${AGENT_ROOT}/test
TEST_SRC = ${TEST_ROOT}/src/src
TEST_OBJ = ${TEST_ROOT}/obj
TEST_INC = ${TEST_ROOT}/src/inc

#add your target test bin here
BIN_HOST_TEST = ${TEST_ROOT}/bin/AgentHostTest
BIN_PLUGINFX_TEST = ${TEST_ROOT}/bin/AgentPluginfxTest
BIN_DEVICE_TEST = ${TEST_ROOT}/bin/AgentDeviceTest
BIN_COMMON_TEST = ${TEST_ROOT}/bin/AgentCommonTest
BIN_ALARM_TEST = ${TEST_ROOT}/bin/AgentAlarmTest
BIN_PLUGIN_TEST = ${TEST_ROOT}/bin/AgentPluginTest
LIB_TEST = ${TEST_ROOT}/bin/libtest.so
BIN_ARRAY_TEST = ${TEST_ROOT}/bin/AgentArrayTest
BIN_AGENT_TEST = ${TEST_ROOT}/bin/AgentAgentTest
BIN_TOOLS_TEST = ${TEST_ROOT}/bin/AgentToolsTest 
BIN_ROOTEXEC_TEST = ${TEST_ROOT}/bin/AgentRootExecTest
BIN_APPDB2_TEST = ${TEST_ROOT}/bin/AgentAppDb2Test
BIN_APPORAC_TEST = ${TEST_ROOT}/bin/AgentAppOracleTest
BIN_APPSYBASE_TEST = ${TEST_ROOT}/bin/AgentAppSybaseTest
BIN_APPHANA_TEST = ${TEST_ROOT}/bin/AgentAppHanaTest
BIN_PLUGINS_CLUSTER_TEST = ${TEST_ROOT}/bin/AgentPluginsClusterTest
BIN_PLUGINS_DB2_TEST = ${TEST_ROOT}/bin/AgentPluginsDb2Test
BIN_PLUGINS_DEVICE_TEST = ${TEST_ROOT}/bin/AgentPluginsDeviceTest
BIN_PLUGINS_HOST_TEST = ${TEST_ROOT}/bin/AgentPluginsHostTest
BIN_PLUGINS_ORACLE_TEST = ${TEST_ROOT}/bin/AgentPluginsOracletest
BIN_PLUGINS_SYBASE_TEST = ${TEST_ROOT}/bin/AgentPluginsSybasetest
BIN_PLUGINS_HANA_TEST = ${TEST_ROOT}/bin/AgentPluginsHanatest
BIN_PLUGINS_APP_TEST = ${TEST_ROOT}/bin/AgentPluginsApptest
BIN_APP_TEST = ${TEST_ROOT}/bin/AgentAppTest
BIN_REST_TEST = ${TEST_ROOT}/bin/AgentRestTest
BIN_CLUSTER_TEST = ${TEST_ROOT}/bin/AgentClusterTest
BIN_PLUGINS_TEST = ${TEST_ROOT}/bin/AgentPluginsTest

INC_TEST_STUB_DIR                = ${TEST_ROOT}/src/stub

#test src dir 
SRC_TEST_STUB_DIR                = ${TEST_ROOT}/src/stub
SRC_TEST_MAIN_DIR                = ${TEST_ROOT}/src
SRC_TEST_AGENT_DIR               = ${TEST_SRC}/agent
SRC_TEST_ALARM_DIR               = ${TEST_SRC}/alarm
SRC_TEST_APPS_APP_DIR            = ${TEST_SRC}/apps/app
SRC_TEST_APPS_DB2_DIR            = ${TEST_SRC}/apps/db2
SRC_TEST_APPS_EXCHANGE_DIR       = ${TEST_SRC}/apps/exchange
SRC_TEST_APPS_ORACLE_DIR         = ${TEST_SRC}/apps/oracle
SRC_TEST_APPS_SYBASE_DIR         = ${TEST_SRC}/apps/sybase
SRC_TEST_APPS_HANA_DIR           = ${TEST_SRC}/apps/hana
SRC_TEST_APPS_DIR         		 = ${TEST_SRC}/apps/app
SRC_TEST_APPS_SQLSERVER_DIR      = ${TEST_SRC}/apps/sqlserver
SRC_TEST_ARRAY_DIR               = ${TEST_SRC}/array
SRC_TEST_CLUSTER_DIR             = ${TEST_SRC}/cluster
SRC_TEST_COMMON_DIR              = ${TEST_SRC}/common
SRC_TEST_DEVICE_DIR              = ${TEST_SRC}/device
SRC_TEST_HOST_DIR                = ${TEST_SRC}/host
SRC_TEST_PLUGINFX_DIR            = ${TEST_SRC}/pluginfx
SRC_TEST_PLUGINS_DIR             = ${TEST_SRC}/plugins
SRC_TEST_PLUGINS_CLUSTER_DIR     = ${TEST_SRC}/plugins/cluster
SRC_TEST_PLUGINS_DB2_DIR         = ${TEST_SRC}/plugins/db2
SRC_TEST_PLUGINS_DEVICE_DIR      = ${TEST_SRC}/plugins/device
SRC_TEST_PLUGINS_EXCHANGE_DIR    = ${TEST_SRC}/plugins/exchange
SRC_TEST_PLUGINS_HOST_DIR        = ${TEST_SRC}/plugins/host
SRC_TEST_PLUGINS_ORACLE_DIR      = ${TEST_SRC}/plugins/oracle
SRC_TEST_PLUGINS_SYBASE_DIR      = ${TEST_SRC}/plugins/sybase
SRC_TEST_PLUGINS_HANA_DIR        = ${TEST_SRC}/plugins/hana
SRC_TEST_PLUGINS_SQLSERVER_DIR   = ${TEST_SRC}/plugins/sqlserver
SRC_TEST_PLUGINS_APP_DIR         = ${TEST_SRC}/plugins/app
SRC_TEST_PLUGINS_TEST_DIR        = ${TEST_SRC}/plugins/test
SRC_TEST_REST_DIR                = ${TEST_SRC}/rest
SRC_TEST_ROOT_EXEC_DIR           = ${TEST_SRC}/rootexec
SRC_TEST_TOOLS_AGENTCLI_DIR      = ${TEST_SRC}/tools/agentcli
SRC_TEST_TOOLS_CRYPTO_DIR        = ${TEST_SRC}/tools/crypto
SRC_TEST_TOOLS_DATAMIGRATION_DIR = ${TEST_SRC}/tools/datamigration
SRC_TEST_TOOLS_GETINPUT_DIR      = ${TEST_SRC}/tools/getinput
SRC_TEST_TOOLS_MONITOR_DIR       = ${TEST_SRC}/tools/monitor
SRC_TEST_TOOLS_SCRIPTSIGN_DIR    = ${TEST_SRC}/tools/scriptsign
SRC_TEST_TOOLS_XMLCFG_DIR        = ${TEST_SRC}/tools/xmlcfg
SRC_TESET_CUNITPUB_DIR           = ${TEST_SRC}/cunitpub

#test obj dir 
OBJ_TEST_STUB_DIR                = ${TEST_OBJ}/stub
OBJ_TEST_MAIN_DIR                = ${TEST_OBJ}
OBJ_TEST_AGENT_DIR               = ${TEST_OBJ}/agent
OBJ_TEST_ALARM_DIR               = ${TEST_OBJ}/alarm
OBJ_TEST_APPS_APP_DIR            = ${TEST_OBJ}/apps/app
OBJ_TEST_APPS_DB2_DIR            = ${TEST_OBJ}/apps/db2
OBJ_TEST_APPS_EXCHANGE_DIR       = ${TEST_OBJ}/apps/exchange
OBJ_TEST_APPS_ORACLE_DIR         = ${TEST_OBJ}/apps/oracle
OBJ_TEST_APPS_SYBASE_DIR         = ${TEST_OBJ}/apps/sybase
OBJ_TEST_APPS_HANA_DIR           = ${TEST_OBJ}/apps/hana
OBJ_TEST_APPS_DIR         		 = ${TEST_OBJ}/apps/app
OBJ_TEST_APPS_SQLSERVER_DIR      = ${TEST_OBJ}/apps/sqlserver
OBJ_TEST_ARRAY_DIR               = ${TEST_OBJ}/array
OBJ_TEST_CLUSTER_DIR             = ${TEST_OBJ}/cluster
OBJ_TEST_COMMON_DIR              = ${TEST_OBJ}/common
OBJ_TEST_DEVICE_DIR              = ${TEST_OBJ}/device
OBJ_TEST_HOST_DIR                = ${TEST_OBJ}/host
OBJ_TEST_PLUGINFX_DIR            = ${TEST_OBJ}/pluginfx
OBJ_TEST_PLUGINS_DIR             = ${TEST_OBJ}/plugins
OBJ_TEST_PLUGINS_CLUSTER_DIR     = ${TEST_OBJ}/plugins/cluster
OBJ_TEST_PLUGINS_DB2_DIR         = ${TEST_OBJ}/plugins/db2
OBJ_TEST_PLUGINS_DEVICE_DIR      = ${TEST_OBJ}/plugins/device
OBJ_TEST_PLUGINS_EXCHANGE_DIR    = ${TEST_OBJ}/plugins/echange
OBJ_TEST_PLUGINS_HOST_DIR        = ${TEST_OBJ}/plugins/host
OBJ_TEST_PLUGINS_ORACLE_DIR      = ${TEST_OBJ}/plugins/oracle
OBJ_TEST_PLUGINS_SYBASE_DIR      = ${TEST_OBJ}/plugins/sybase
OBJ_TEST_PLUGINS_HANA_DIR      = ${TEST_OBJ}/plugins/hana
OBJ_TEST_PLUGINS_SQLSERVER_DIR   = ${TEST_OBJ}/plugins/sqlserver
OBJ_TEST_PLUGINS_APP_DIR         = ${TEST_OBJ}/plugins/app
OBJ_TEST_PLUGINS_TEST_DIR        = ${TEST_OBJ}/plugins/test
OBJ_TEST_REST_DIR                = ${TEST_OBJ}/rest
OBJ_TEST_ROOT_EXEC_DIR           = ${TEST_OBJ}/rootexec
OBJ_TEST_TOOLS_AGENTCLI_DIR      = ${TEST_OBJ}/tools/agentcli
OBJ_TEST_TOOLS_CRYPTO_DIR        = ${TEST_OBJ}/tools/crypto
OBJ_TEST_TOOLS_DATAMIGRATION_DIR = ${TEST_OBJ}/tools/datamigration
OBJ_TEST_TOOLS_GETINPUT_DIR      = ${TEST_OBJ}/tools/getinput
OBJ_TEST_TOOLS_MONITOR_DIR       = ${TEST_OBJ}/tools/monitor
OBJ_TEST_TOOLS_SCRIPTSIGN_DIR    = ${TEST_OBJ}/tools/scriptsign
OBJ_TEST_TOOLS_XMLCFG_DIR        = ${TEST_OBJ}/tools/xmlcfg
OBJ_TEST_CUNITPUB_DIR            = ${TEST_OBJ}/cunitpub

#test src
TEST_STUB_SRCS                = $(wildcard ${SRC_TEST_STUB_DIR}/*.cpp)
TEST_MAIN_SRCS                = $(wildcard ${SRC_TEST_MAIN_DIR}/*.cpp)
TEST_AGENT_SRCS               = $(wildcard ${SRC_TEST_AGENT_DIR}/*.cpp)              
TEST_ALARM_SRCS               = $(wildcard ${SRC_TEST_ALARM_DIR}/*.cpp)              
TEST_APPS_DB2_SRCS            = $(wildcard ${SRC_TEST_APPS_DB2_DIR}/*.cpp)           
TEST_APPS_EXCHANGE_SRCS       = $(wildcard ${SRC_TEST_APPS_EXCHANGE_DIR}/*.cpp)      
TEST_APPS_ORACLE_SRCS         = $(wildcard ${SRC_TEST_APPS_ORACLE_DIR}/*.cpp) 
TEST_APPS_SYBASE_SRCS         = $(wildcard ${SRC_TEST_APPS_SYBASE_DIR}/*.cpp)
TEST_APPS_HANA_SRCS           = $(wildcard ${SRC_TEST_APPS_HANA_DIR}/*.cpp)
TEST_APPS_SRCS         		  = $(wildcard ${SRC_TEST_APPS_DIR}/*.cpp)         
TEST_APPS_SQLSERVER_SRCS      = $(wildcard ${SRC_TEST_APPS_SQLSERVER_DIR}/*.cpp)     
TEST_ARRAY_SRCS               = $(wildcard ${SRC_TEST_ARRAY_DIR}/*.cpp)              
TEST_CLUSTER_SRCS             = $(wildcard ${SRC_TEST_CLUSTER_DIR}/*.cpp)            
TEST_COMMON_SRCS              = $(wildcard ${SRC_TEST_COMMON_DIR}/*.cpp)             
TEST_DEVICE_SRCS              = $(wildcard ${SRC_TEST_DEVICE_DIR}/*.cpp)             
TEST_HOST_SRCS                = $(wildcard ${SRC_TEST_HOST_DIR}/*.cpp)               
TEST_PLUGINFX_SRCS            = $(wildcard ${SRC_TEST_PLUGINFX_DIR}/*.cpp)           
TEST_PLUGINS_SRCS             = $(wildcard ${SRC_TEST_PLUGINS_DIR}/*.cpp)            
TEST_PLUGINS_CLUSTER_SRCS     = $(wildcard ${SRC_TEST_PLUGINS_CLUSTER_DIR}/*.cpp)    
TEST_PLUGINS_DB2_SRCS         = $(wildcard ${SRC_TEST_PLUGINS_DB2_DIR}/*.cpp)        
TEST_PLUGINS_DEVICE_SRCS      = $(wildcard ${SRC_TEST_PLUGINS_DEVICE_DIR}/*.cpp)     
TEST_PLUGINS_EXCHANGE_SRCS    = $(wildcard ${SRC_TEST_PLUGINS_EXCHANGE_DIR}/*.cpp)   
TEST_PLUGINS_HOST_SRCS        = $(wildcard ${SRC_TEST_PLUGINS_HOST_DIR}/*.cpp)       
TEST_PLUGINS_ORACLE_SRCS      = $(wildcard ${SRC_TEST_PLUGINS_ORACLE_DIR}/*.cpp) 
TEST_PLUGINS_SYBASE_SRCS      = $(wildcard ${SRC_TEST_PLUGINS_SYBASE_DIR}/*.cpp)   
TEST_PLUGINS_HANA_SRCS        = $(wildcard ${SRC_TEST_PLUGINS_HANA_DIR}/*.cpp)   
TEST_PLUGINS_SQLSERVER_SRCS   = $(wildcard ${SRC_TEST_PLUGINS_SQLSERVER_DIR}/*.cpp)  
TEST_PLUGINS_APP_SRCS         = $(wildcard ${SRC_TEST_PLUGINS_APP_DIR}/*.cpp)  
TEST_REST_SRCS                = $(wildcard ${SRC_TEST_REST_DIR}/*.cpp)               
TEST_ROOT_EXEC_SRCS           = $(wildcard ${SRC_TEST_ROOT_EXEC_DIR}/*.cpp)          
TEST_TOOLS_AGENTCLI_SRCS      = $(wildcard ${SRC_TEST_TOOLS_AGENTCLI_DIR}/*.cpp)     
TEST_TOOLS_CRYPTO_SRCS        = $(wildcard ${SRC_TEST_TOOLS_CRYPTO_DIR}/*.cpp)       
TEST_TOOLS_DATAMIGRATION_SRCS = $(wildcard ${SRC_TEST_TOOLS_DATAMIGRATION_DIR}/*.cpp)
TEST_TOOLS_GETINPUT_SRCS      = $(wildcard ${SRC_TEST_TOOLS_GETINPUT_DIR}/*.cpp)     
TEST_TOOLS_MONITOR_SRCS       = $(wildcard ${SRC_TEST_TOOLS_MONITOR_DIR}/*.cpp)      
TEST_TOOLS_SCRIPTSIGN_SRCS    = $(wildcard ${SRC_TEST_TOOLS_SCRIPTSIGN_DIR}/*.cpp)   
TEST_TOOLS_XMLCFG_SRCS        = $(wildcard ${SRC_TEST_TOOLS_XMLCFG_DIR}/*.cpp)   
TEST_PLUGINS_TEST_SRCS        = $(wildcard ${SRC_TEST_PLUGINS_TEST_DIR}/*.cpp)
TEST_PLUGINS_TEST_OBJS        = $(patsubst ${SRC_TEST_PLUGINS_TEST_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_TEST_DIR}/%.o, $(TEST_PLUGINS_TEST_SRCS))
TEST_CUNITPUB_SRCS			  = $(wildcard ${SRC_TESET_CUNITPUB_DIR}/*.cpp)    
	
#test objs
TEST_STUB_OBJS = $(patsubst ${SRC_TEST_STUB_DIR}/%.cpp, ${OBJ_TEST_STUB_DIR}/%.o, $(TEST_STUB_SRCS))
TEST_MAIN_OBJS = $(patsubst ${SRC_TEST_MAIN_DIR}/%.cpp, ${OBJ_TEST_MAIN_DIR}/%.o, $(TEST_MAIN_SRCS))
TEST_AGENT_OBJS = $(patsubst ${SRC_TEST_AGENT_DIR}/%.cpp, ${OBJ_TEST_AGENT_DIR}/%.o, $(TEST_AGENT_SRCS))
TEST_ALARM_OBJS = $(patsubst ${SRC_TEST_ALARM_DIR}/%.cpp, ${OBJ_TEST_ALARM_DIR}/%.o, $(TEST_ALARM_SRCS))
TEST_APPS_DB2_OBJS = $(patsubst ${SRC_TEST_APPS_DB2_DIR}/%.cpp, ${OBJ_TEST_APPS_DB2_DIR}/%.o, $(TEST_APPS_DB2_SRCS))
TEST_APPS_EXCHANGE_OBJS = $(patsubst ${SRC_TEST_APPS_EXCHANGE_DIR}/%.cpp, ${OBJ_TEST_APPS_EXCHANGE_DIR}/%.o, $(TEST_APPS_EXCHANGE_SRCS))
TEST_APPS_ORACLE_OBJS = $(patsubst ${SRC_TEST_APPS_ORACLE_DIR}/%.cpp, ${OBJ_TEST_APPS_ORACLE_DIR}/%.o, $(TEST_APPS_ORACLE_SRCS))
TEST_APPS_SYBASE_OBJS = $(patsubst ${SRC_TEST_APPS_SYBASE_DIR}/%.cpp, ${OBJ_TEST_APPS_SYBASE_DIR}/%.o, $(TEST_APPS_SYBASE_SRCS))
TEST_APPS_HANA_OBJS = $(patsubst ${SRC_TEST_APPS_HANA_DIR}/%.cpp, ${OBJ_TEST_APPS_HANA_DIR}/%.o, $(TEST_APPS_HANA_SRCS))
TEST_APPS_OBJS = $(patsubst ${SRC_TEST_APPS_DIR}/%.cpp, ${OBJ_TEST_APPS_DIR}/%.o, $(TEST_APPS_SRCS))
TEST_APPS_SQLSERVER_OBJS = $(patsubst ${SRC_TEST_APPS_SQLSERVER_DIR}/%.cpp, ${OBJ_TEST_APPS_SQLSERVER_DIR}/%.o, $(TEST_APPS_SQLSERVER_SRCS))
TEST_ARRAY_OBJS = $(patsubst ${SRC_TEST_ARRAY_DIR}/%.cpp, ${OBJ_TEST_ARRAY_DIR}/%.o, $(TEST_ARRAY_SRCS))
TEST_CLUSTER_OBJS = $(patsubst ${SRC_TEST_CLUSTER_DIR}/%.cpp, ${OBJ_TEST_CLUSTER_DIR}/%.o, $(TEST_CLUSTER_SRCS))
TEST_COMMON_OBJS = $(patsubst ${SRC_TEST_COMMON_DIR}/%.cpp, ${OBJ_TEST_COMMON_DIR}/%.o, $(TEST_COMMON_SRCS))
TEST_DEVICE_OBJS = $(patsubst ${SRC_TEST_DEVICE_DIR}/%.cpp, ${OBJ_TEST_DEVICE_DIR}/%.o, $(TEST_DEVICE_SRCS))
TEST_HOST_OBJS = $(patsubst ${SRC_TEST_HOST_DIR}/%.cpp, ${OBJ_TEST_HOST_DIR}/%.o, $(TEST_HOST_SRCS))
TEST_PLUGINFX_OBJS = $(patsubst ${SRC_TEST_PLUGINFX_DIR}/%.cpp, ${OBJ_TEST_PLUGINFX_DIR}/%.o, $(TEST_PLUGINFX_SRCS))
TEST_PLUGINS_OBJS = $(patsubst ${SRC_TEST_PLUGINS_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_DIR}/%.o, $(TEST_PLUGINS_SRCS))
TEST_PLUGINS_CLUSTER_OBJS = $(patsubst ${SRC_TEST_PLUGINS_CLUSTER_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_CLUSTER_DIR}/%.o, $(TEST_PLUGINS_CLUSTER_SRCS))
TEST_PLUGINS_DB2_OBJS = $(patsubst ${SRC_TEST_PLUGINS_DB2_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_DB2_DIR}/%.o, $(TEST_PLUGINS_DB2_SRCS))
TEST_PLUGINS_DEVICE_OBJS = $(patsubst ${SRC_TEST_PLUGINS_DEVICE_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_DEVICE_DIR}/%.o, $(TEST_PLUGINS_DEVICE_SRCS))
TEST_PLUGINS_EXCHANGE_OBJS = $(patsubst ${SRC_TEST_PLUGINS_EXCHANGE_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_EXCHANGE_DIR}/%.o, $(TEST_PLUGINS_EXCHANGE_SRCS))
TEST_PLUGINS_HOST_OBJS = $(patsubst ${SRC_TEST_PLUGINS_HOST_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_HOST_DIR}/%.o, $(TEST_PLUGINS_HOST_SRCS))
TEST_PLUGINS_ORACLE_OBJS = $(patsubst ${SRC_TEST_PLUGINS_ORACLE_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_ORACLE_DIR}/%.o, $(TEST_PLUGINS_ORACLE_SRCS))
TEST_PLUGINS_SYBASE_OBJS = $(patsubst ${SRC_TEST_PLUGINS_SYBASE_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_SYBASE_DIR}/%.o, $(TEST_PLUGINS_SYBASE_SRCS))
TEST_PLUGINS_HANA_OBJS = $(patsubst ${SRC_TEST_PLUGINS_HANA_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_HANA_DIR}/%.o, $(TEST_PLUGINS_HANA_SRCS))
TEST_PLUGINS_SQLSERVER_OBJS = $(patsubst ${SRC_TEST_PLUGINS_SQLSERVER_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_SQLSERVER_DIR}/%.o, $(TEST_PLUGINS_SQLSERVER_SRCS))
TEST_PLUGINS_APP_OBJS = $(patsubst ${SRC_TEST_PLUGINS_APP_DIR}/%.cpp, ${OBJ_TEST_PLUGINS_APP_DIR}/%.o, $(TEST_PLUGINS_APP_SRCS))
TEST_REST_OBJS = $(patsubst ${SRC_TEST_REST_DIR}/%.cpp, ${OBJ_TEST_REST_DIR}/%.o, $(TEST_REST_SRCS))
TEST_ROOT_EXEC_OBJS = $(patsubst ${SRC_TEST_ROOT_EXEC_DIR}/%.cpp, ${OBJ_TEST_ROOT_EXEC_DIR}/%.o, $(TEST_ROOT_EXEC_SRCS))
TEST_TOOLS_AGENTCLI_OBJS = $(patsubst ${SRC_TEST_TOOLS_AGENTCLI_DIR}/%.cpp, ${OBJ_TEST_TOOLS_AGENTCLI_DIR}/%.o, $(TEST_TOOLS_AGENTCLI_SRCS))
TEST_TOOLS_CRYPTO_OBJS = $(patsubst ${SRC_TEST_TOOLS_CRYPTO_DIR}/%.cpp, ${OBJ_TEST_TOOLS_CRYPTO_DIR}/%.o, $(TEST_TOOLS_CRYPTO_SRCS))
TEST_TOOLS_DATAMIGRATION_OBJS = $(patsubst ${SRC_TEST_TOOLS_DATAMIGRATION_DIR}/%.cpp, ${OBJ_TEST_TOOLS_DATAMIGRATION_DIR}/%.o, $(TEST_TOOLS_DATAMIGRATION_SRCS))
TEST_TOOLS_GETINPUT_OBJS = $(patsubst ${SRC_TEST_TOOLS_GETINPUT_DIR}/%.cpp, ${OBJ_TEST_TOOLS_GETINPUT_DIR}/%.o, $(TEST_TOOLS_GETINPUT_SRCS))
TEST_TOOLS_MONITOR_OBJS = $(patsubst ${SRC_TEST_TOOLS_MONITOR_DIR}/%.cpp, ${OBJ_TEST_TOOLS_MONITOR_DIR}/%.o, $(TEST_TOOLS_MONITOR_SRCS))
TEST_TOOLS_SCRIPTSIGN_OBJS = $(patsubst ${SRC_TEST_TOOLS_SCRIPTSIGN_DIR}/%.cpp, ${OBJ_TEST_TOOLS_SCRIPTSIGN_DIR}/%.o, $(TEST_TOOLS_SCRIPTSIGN_SRCS))
TEST_TOOLS_XMLCFG_OBJS = $(patsubst ${SRC_TEST_TOOLS_XMLCFG_DIR}/%.cpp, ${OBJ_TEST_TOOLS_XMLCFG_DIR}/%.o, $(TEST_TOOLS_XMLCFG_SRCS))
TEST_CUNITPUB_OBJ = $(patsubst ${SRC_TESET_CUNITPUB_DIR}/%.cpp, ${OBJ_TEST_CUNITPUB_DIR}/%.o, $(TEST_CUNITPUB_SRCS))

TEST_ALL_INCLUDE = ${GCOV_COMPILE_FLAG} -I${GTESTLIB_DIR}/include -I${TEST_INC} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} \
	-I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_SQLITE_DIR} -I${INC_OPEN_SNMP_DIR} -I${INC_OPEN_SNMP_MAIN_DIR} -I${INC_TEST_STUB_DIR} -I${INC_KMC_INC_DIR} -I${INC_KMC_MAIN_DIR} 

CFLAGS += ${GCOV_COMPILE_FLAG}

#由于下列几个目录的.o文件存在main函数，所以需要特殊处理
ROOT_EXEC_OBJS = $(filter-out ${OBJ_ROOT_EXEC_DIR}/RootExecMain.o, $(patsubst ${SRC_ROOT_EXEC_DIR}/%.cpp, ${OBJ_ROOT_EXEC_DIR}/%.o, $(ROOT_EXEC_SRCS)))
DATAMIGRATION_OBJS = $(filter-out ${OBJ_DATAMIGRATION_DIR}/DataMigrationMain.o, $(patsubst ${SRC_DATAMIGRATION_DIR}/%.cpp, ${OBJ_DATAMIGRATION_DIR}/%.o, $(DATAMIGRATION_SRCS)))
AGENT_OBJS = $(filter-out ${OBJ_AGENT_DIR}/Agent.o, $(patsubst ${SRC_AGENT_DIR}/%.cpp, ${OBJ_AGENT_DIR}/%.o, $(AGENT_SRCS)))
SCRIPTSIGN_OBJS = $(filter-out ${OBJ_SCRIPTSIGN_DIR}/ScriptSignMain.o, $(patsubst ${SRC_SCRIPTSIGN_DIR}/%.cpp, ${OBJ_SCRIPTSIGN_DIR}/%.o, $(SCRIPTSIGN_SRCS)))
MONITOR_OBJS = $(filter-out ${OBJ_MONITOR_DIR}/Monitor.o, $(patsubst ${SRC_MONITOR_DIR}/%.cpp, ${OBJ_MONITOR_DIR}/%.o, $(MONITOR_SRCS)))
XMLCFG_OBJS = $(filter-out ${OBJ_XMLCFG_DIR}/XmlCfg.o, $(patsubst ${SRC_XMLCFG_DIR}/%.cpp, ${OBJ_XMLCFG_DIR}/%.o, $(XMLCFG_SRCS)))
AGENTCLI_OBJS = $(filter-out ${OBJ_AGENTCLI_DIR}/AgentCli.o, $(patsubst ${SRC_AGENTCLI_DIR}/%.cpp, ${OBJ_AGENTCLI_DIR}/%.o, $(AGENTCLI_SRCS)))


all: ${BIN_COMMON_TEST} ${BIN_ALARM_TEST} ${BIN_PLUGIN_TEST} ${LIB_COMMON} ${LIB_TEST} ${LIB_HOST}  ${BIN_ARRAY_TEST} ${BIN_AGENT_TEST} ${BIN_HOST_TEST} ${BIN_PLUGINFX_TEST} \
${BIN_DEVICE_TEST} ${BIN_TOOLS_TEST} ${BIN_ROOTEXEC_TEST} ${BIN_APPDB2_TEST} ${BIN_APPORAC_TEST} ${BIN_APPSYBASE_TEST} ${BIN_APPHANA_TEST} ${BIN_PLUGINS_CLUSTER_TEST} ${BIN_PLUGINS_DB2_TEST} ${BIN_PLUGINS_DEVICE_TEST} \
${BIN_PLUGINS_HOST_TEST} ${BIN_PLUGINS_ORACLE_TEST} ${BIN_PLUGINS_SYBASE_TEST} ${BIN_PLUGINS_HANA_TEST} ${BIN_CLUSTER_TEST} ${BIN_REST_TEST} ${BIN_PLUGINS_TEST}

#generate bin here
${BIN_HOST_TEST}: ${COMMON_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_HOST_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${HOST_OBJS} ${ARRAY_OBJS} ${ALARM_OBJS} ${SQLITE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread -ldl -lKMC -lrt -lsnmp++ -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_HOST_TEST}

${BIN_PLUGINFX_TEST}: ${COMMON_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_PLUGINFX_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${PLUGINFX_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_PLUGINFX_TEST}

${BIN_DEVICE_TEST}: ${COMMON_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_DEVICE_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${DEVICE_OBJS} ${ARRAY_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_DEVICE_TEST}

${BIN_COMMON_TEST}: ${COMMON_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_COMMON_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_COMMON_TEST}
	
${BIN_ALARM_TEST}: ${COMMON_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${ALARM_OBJS} ${SQLITE_OBJS} ${TEST_ALARM_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread -lsnmp++ -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_ALARM_TEST}

${BIN_PLUGIN_TEST}: ${COMMON_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_PLUGINFX_OBJS} ${PLUGINFX_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_PLUGIN_TEST}
    
${BIN_ARRAY_TEST}: ${COMMON_OBJS} ${ARRAY_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_ARRAY_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR}  -L${KMC_LIB_DIR} \
	-lpthread -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_ARRAY_TEST}

${BIN_AGENT_TEST}: ${COMMON_OBJS} ${AGENT_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${REST_OBJS} ${ALARM_OBJS} ${PLUGINFX_OBJS} \
	${JSON_OBJS} ${SQLITE_OBJS} ${TEST_AGENT_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${PLUGINS_DB2_OBJS} ${PLUGINS_OBJS} ${APPS_DB2_OBJS} ${ARRAY_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_SNMP_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread -lsnmp++ -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_AGENT_TEST}

${BIN_TOOLS_TEST}: ${COMMON_OBJS} ${ALARM_OBJS} ${REST_OBJS} ${JSON_OBJS} ${TEST_CUNITPUB_OBJ} ${AGENTCLI_OBJS} ${TEST_TOOLS_AGENTCLI_OBJS} ${MONITOR_OBJS} ${TEST_TOOLS_MONITOR_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR}  -L${KMC_LIB_DIR}\
	-lpthread  -lsnmp++ -ldl -lKMC -lrt -lfcgi -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_TOOLS_TEST}
	
${BIN_ROOTEXEC_TEST}: ${COMMON_OBJS} ${ALARM_OBJS} ${ARRAY_OBJS} ${REST_OBJS} ${JSON_OBJS} ${SECUREC_OBJS} ${TEST_CUNITPUB_OBJ} ${ROOT_EXEC_OBJS} ${TEST_ROOT_EXEC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR}  -L${KMC_LIB_DIR}\
	-lpthread  -lsnmp++ -ldl -lKMC -lrt -lfcgi -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_ROOTEXEC_TEST}
	
${BIN_PLUGINS_TEST}: ${COMMON_OBJS} ${ALARM_OBJS} ${TEST_CUNITPUB_OBJ}  ${REST_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} ${TEST_PLUGINS_OBJS} \
	${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread  -lsnmp++ -ldl -lKMC -lrt -lfcgi -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_TEST}	
	
${BIN_PLUGINS_CLUSTER_TEST}: ${COMMON_OBJS} ${ALARM_OBJS} ${ARRAY_OBJS} ${TEST_CUNITPUB_OBJ}  ${REST_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} ${CLUSTER_OBJS} ${PLUGINS_CLUSTER_OBJS} ${TEST_PLUGINS_CLUSTER_OBJS} \
	${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread  -lsnmp++ -ldl -lKMC -lrt -lfcgi -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_CLUSTER_TEST}
	
${BIN_PLUGINS_DB2_TEST}: ${COMMON_OBJS} ${ALARM_OBJS} ${ARRAY_OBJS} ${TEST_CUNITPUB_OBJ} ${REST_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} ${APPS_DB2_OBJS} ${PLUGINS_DB2_OBJS} ${TEST_PLUGINS_DB2_OBJS} \
	${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread  -lsnmp++ -ldl -lKMC -lrt -lfcgi -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_DB2_TEST}
	
${BIN_PLUGINS_APP_TEST}: ${COMMON_OBJS} ${ALARM_OBJS} ${ARRAY_OBJS} ${TEST_CUNITPUB_OBJ} ${REST_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} ${APPS_APP_OBJS} ${APPS_ORACLE_OBJS} ${APPS_SYBASE_OBJS} ${APPS_HANA_OBJS} ${PLUGINS_APP_OBJS} ${TEST_PLUGINS_APP_OBJS} \
	${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread  -lsnmp++ -ldl -lKMC -lrt -lfcgi -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_APP_TEST}
	
${BIN_PLUGINS_DEVICE_TEST}: ${COMMON_OBJS} ${ALARM_OBJS} ${ARRAY_OBJS} ${TEST_CUNITPUB_OBJ} ${REST_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} ${DEVICE_OBJS} ${PLUGINS_DEVICE_OBJS} ${TEST_PLUGINS_DEVICE_OBJS} \
	${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread  -lsnmp++ -ldl -lKMC -lrt -lfcgi -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_DEVICE_TEST}
	
${BIN_PLUGINS_HOST_TEST}: ${COMMON_OBJS} ${ALARM_OBJS} ${ARRAY_OBJS} ${TEST_CUNITPUB_OBJ} ${REST_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} ${HOST_OBJS} ${PLUGINS_HOST_OBJS} ${TEST_PLUGINS_HOST_OBJS} \
	${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread  -lsnmp++ -ldl -lKMC -lrt -lfcgi -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_HOST_TEST}	
	
${BIN_PLUGINS_ORACLE_TEST}: ${COMMON_OBJS} ${ALARM_OBJS} ${ARRAY_OBJS} ${TEST_CUNITPUB_OBJ} ${REST_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} ${APPS_ORACLE_OBJS} ${PLUGINS_ORACLE_OBJS} ${TEST_PLUGINS_ORACLE_OBJS}\
	${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread  -lsnmp++ -ldl -lKMC -lrt -lfcgi -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_ORACLE_TEST}

${BIN_PLUGINS_SYBASE_TEST}: ${COMMON_OBJS} ${ALARM_OBJS} ${ARRAY_OBJS} ${TEST_CUNITPUB_OBJ} ${REST_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} ${APPS_SYBASE_OBJS} ${PLUGINS_SYBASE_OBJS} ${TEST_PLUGINS_SYBASE_OBJS}\
	${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread  -lsnmp++ -ldl -lKMC -lrt -lfcgi -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_SYBASE_TEST}
	
${BIN_PLUGINS_HANA_TEST}: ${COMMON_OBJS} ${ALARM_OBJS} ${ARRAY_OBJS} ${TEST_CUNITPUB_OBJ} ${REST_OBJS} ${JSON_OBJS} ${PLUGINS_OBJS} ${APPS_HANA_OBJS} ${PLUGINS_HANA_OBJS} ${TEST_PLUGINS_HANA_OBJS}\
	${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread  -lsnmp++ -ldl -lKMC -lrt -lfcgi -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_PLUGINS_HANA_TEST}
	
${BIN_REST_TEST}: ${COMMON_OBJS} ${REST_OBJS} ${JSON_OBJS} ${TEST_REST_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${TEST_STUB_OBJS} ${TEST_MAIN_OBJS} ${SQLITE_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} \
	-lpthread  -lsnmp++ -ldl -lKMC -lrt -lfcgi -lcrypto ${GCOV_LINK_FLAG} -o ${BIN_REST_TEST}

${BIN_APPDB2_TEST}: ${COMMON_OBJS} ${TINYXML_OBJS} ${SECUREC_OBJS} ${ARRAY_OBJS} ${TEST_STUB_OBJS} ${APPS_DB2_OBJS} ${TEST_APPS_DB2_OBJS} ${TEST_MAIN_OBJS} ${JSON_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -lpthread -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_APPDB2_TEST}

${BIN_APPORAC_TEST}: ${COMMON_OBJS} ${TINYXML_OBJS} ${SECUREC_OBJS} ${ARRAY_OBJS} ${TEST_STUB_OBJS} ${APPS_ORACLE_OBJS} ${TEST_APPS_ORACLE_OBJS} ${TEST_MAIN_OBJS} ${JSON_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -lpthread -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_APPORAC_TEST}

${BIN_APPSYBASE_TEST}: ${COMMON_OBJS} ${TINYXML_OBJS} ${SECUREC_OBJS} ${ARRAY_OBJS} ${TEST_STUB_OBJS} ${APPS_SYBASE_OBJS} ${TEST_APPS_SYBASE_OBJS} ${TEST_MAIN_OBJS} ${JSON_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -lpthread -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_APPSYBASE_TEST}

${BIN_APPHANA_TEST}: ${COMMON_OBJS} ${TINYXML_OBJS} ${SECUREC_OBJS} ${ARRAY_OBJS} ${TEST_STUB_OBJS} ${APPS_HANA_OBJS} ${TEST_APPS_HANA_OBJS} ${TEST_MAIN_OBJS} ${JSON_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -lpthread -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_APPHANA_TEST}

${BIN_APP_TEST}: ${COMMON_OBJS} ${TINYXML_OBJS} ${SECUREC_OBJS} ${ARRAY_OBJS} ${TEST_STUB_OBJS} ${APPS_APP_OBJS} ${APPS_ORACLE_OBJS} ${APPS_SYBASE_OBJS} ${APPS_HANA_OBJS} ${TEST_APPS_OBJS} ${TEST_MAIN_OBJS} ${JSON_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -lpthread -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_APP_TEST}

${BIN_CLUSTER_TEST}: ${COMMON_OBJS} ${TINYXML_OBJS} ${SECUREC_OBJS} ${ARRAY_OBJS} ${TEST_STUB_OBJS} ${CLUSTER_OBJS} ${TEST_CLUSTER_OBJS} ${TEST_MAIN_OBJS} ${JSON_OBJS}
	${CPPC} ${OFLAGS} $^ ${GTESTLIB_DIR}/libgtest.a -L${OPEN_FCGI_LIB_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -lpthread -ldl -lKMC -lrt -lcrypto -lfcgi ${GCOV_LINK_FLAG} -o ${BIN_CLUSTER_TEST}

${SCRIPTSIGN}:${COMMON_OBJS} ${SCRIPTSIGN_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS}
	${CPPC} ${OFLAGS} -o ${SCRIPTSIGN} ${SCRIPTSIGN_OBJS} ${COMMON_OBJS}  ${SECUREC_OBJS} ${TINYXML_OBJS} -L${OPEN_OPENSSL_LIB_DIR} \
	-L${KMC_LIB_DIR} -lKMC -lcrypto -lpthread -ldl -lrt ${COV_OFLAGS}
    
${DATAMIGRATION}:${COMMON_OBJS} ${DATAMIGRATION_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${ALARM_OBJS} ${SQLITE_OBJS}
	${CPPC} ${OFLAGS} -o ${DATAMIGRATION} ${DATAMIGRATION_OBJS} ${COMMON_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${ALARM_OBJS} ${SQLITE_OBJS} \
    -L${BIN_DIR} -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -lsnmp++ -lKMC -lcrypto -lpthread -ldl -lrt ${COV_OFLAGS}
	
${MONITOR}:${COMMON_OBJS} ${MONITOR_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${ALARM_OBJS} ${SQLITE_OBJS}
	${CPPC} ${OFLAGS} -o ${MONITOR} ${MONITOR_OBJS} ${COMMON_OBJS}  ${SECUREC_OBJS} ${TINYXML_OBJS} ${ALARM_OBJS} ${SQLITE_OBJS} \
	-L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${KMC_LIB_DIR} -lpthread -lsnmp++ -ldl -lrt -lKMC -lcrypto ${COV_OFLAGS}

${XMLCFG}:${COMMON_OBJS} ${XMLCFG_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS}
	${CPPC} ${OFLAGS} -o ${XMLCFG} ${XMLCFG_OBJS} ${COMMON_OBJS}  ${SECUREC_OBJS} ${TINYXML_OBJS} \
	-L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -lpthread -ldl -lrt -lKMC -lcrypto ${COV_OFLAGS}
	
${AGENTCLI}:${COMMON_OBJS} ${AGENTCLI_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS}
	${CPPC} ${OFLAGS} -o ${AGENTCLI} ${AGENTCLI_OBJS} ${COMMON_OBJS}  ${SECUREC_OBJS} ${TINYXML_OBJS} \
	-L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -lpthread -ldl -lrt -lKMC -lcrypto ${COV_OFLAGS}
	
${GETINPUT}:${COMMON_OBJS} ${GETINPUT_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS}
	${CPPC} ${OFLAGS} -o ${GETINPUT} ${GETINPUT_OBJS} ${COMMON_OBJS}  ${SECUREC_OBJS} ${TINYXML_OBJS} \
	-L${OPEN_OPENSSL_LIB_DIR} -L${KMC_LIB_DIR} -lpthread -ldl -lrt -lKMC -lcrypto ${COV_OFLAGS}
	
${LIB_COMMON}:${COMMON_OBJS} ${REST_OBJS} ${ARRAY_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} ${JSON_OBJS} ${SQLITE_OBJS} 
	${CPPC} ${DFLAGS} -o ${LIB_COMMON} ${COMMON_OBJS} ${REST_OBJS} ${ARRAY_OBJS} ${SECUREC_OBJS} ${TINYXML_OBJS} \
	${JSON_OBJS} ${SQLITE_OBJS} -L${OPEN_OPENSSL_LIB_DIR} -L${OPEN_FCGI_LIB_DIR} -L${KMC_LIB_DIR} -ldl -lpthread -lrt -lKMC -lcrypto -lfcgi ${COV_OFLAGS} ${GCOV_LINK_FLAG}

${LIB_HOST}:${HOST_OBJS} ${PLUGINS_OBJS} ${PLUGINS_HOST_OBJS} ${ALARM_OBJS}
	${CPPC} ${dFLAGS} -o ${LIB_HOST} ${HOST_OBJS} ${PLUGINS_OBJS} ${PLUGINS_HOST_OBJS} ${ALARM_OBJS} -L${OPEN_OPENSSL_LIB_DIR} \
	-L${OPEN_FCGI_LIB_DIR} -L${OPEN_SNMP_LIB_DIR} -L${BIN_DIR} -lsnmp++ -lssl -lcrypto -lcommon ${COV_OFLAGS}

${LIB_DEVICE}:${DEVICE_OBJS} ${PLUGINS_OBJS} ${PLUGINS_DEVICE_OBJS} ${ALARM_OBJS}
	${CPPC} ${dFLAGS} -o ${LIB_DEVICE} ${DEVICE_OBJS} ${PLUGINS_OBJS} ${PLUGINS_DEVICE_OBJS} ${ALARM_OBJS} -L${OPEN_OPENSSL_LIB_DIR} \
	-L${OPEN_SNMP_LIB_DIR} -L${BIN_DIR} -lsnmp++ -lcrypto -lcommon ${COV_OFLAGS}

${LIB_CLUSTER}:${CLUSTER_OBJS} ${PLUGINS_OBJS} ${PLUGINS_CLUSTER_OBJS}
	${CPPC} ${dFLAGS} -o ${LIB_CLUSTER} ${CLUSTER_OBJS} ${PLUGINS_OBJS} ${PLUGINS_CLUSTER_OBJS} -L${BIN_DIR} -lcommon ${COV_OFLAGS}

${LIB_ORACLE}:${APPS_ORACLE_OBJS} ${PLUGINS_OBJS} ${PLUGINS_ORACLE_OBJS}
	${CPPC} ${dFLAGS} -o ${LIB_ORACLE} ${APPS_ORACLE_OBJS} ${PLUGINS_OBJS} ${PLUGINS_ORACLE_OBJS} -L${BIN_DIR} -lcommon ${COV_OFLAGS}
    
${LIB_SYBASE}:${APPS_SYBASE_OBJS} ${PLUGINS_OBJS} ${PLUGINS_SYBASE_OBJS}
	${CPPC} ${dFLAGS} -o ${LIB_SYBASE} ${APPS_SYBASE_OBJS} ${PLUGINS_OBJS} ${PLUGINS_SYBASE_OBJS} -L${BIN_DIR} -lcommon ${COV_OFLAGS}
	    
${LIB_HANA}:${APPS_HANA_OBJS} ${PLUGINS_OBJS} ${PLUGINS_HANA_OBJS}
	${CPPC} ${dFLAGS} -o ${LIB_HANA} ${APPS_HANA_OBJS} ${PLUGINS_OBJS} ${PLUGINS_HANA_OBJS} -L${BIN_DIR} -lcommon ${COV_OFLAGS}

${LIB_DB2}:${APPS_DB2_OBJS} ${PLUGINS_OBJS} ${PLUGINS_DB2_OBJS}
	${CPPC} ${dFLAGS} -o ${LIB_DB2} ${APPS_DB2_OBJS} ${PLUGINS_OBJS} ${PLUGINS_DB2_OBJS} -L${BIN_DIR} -lcommon ${COV_OFLAGS}

${LIB_TEST}:${PLUGINS_OBJS} ${TEST_PLUGINS_TEST_OBJS}
	${CPPC} ${DFLAGS} -o ${LIB_TEST} ${PLUGINS_OBJS} ${TEST_PLUGINS_TEST_OBJS} -L${BIN_DIR} -lcommon ${GCOV_LINK_FLAG}
    
${COMMON_OBJS}:${OBJ_COMMON_DIR}/%.o:${SRC_COMMON_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_KMC_MAIN_DIR} -I${INC_KMC_INC_DIR} -I${BASE_OPEN_INC} -I${INC_OPEN_OPENSSL_DIR} \
	-I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}

${ARRAY_OBJS}:${OBJ_ARRAY_DIR}/%.o:${SRC_ARRAY_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${BASE_OPEN_INC} -o $@ -c $< ${COV_CFLAGS}
	
${CLUSTER_OBJS}:${OBJ_CLUSTER_DIR}/%.o:${SRC_CLUSTER_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${BASE_OPEN_INC} -o $@ -c $< ${COV_CFLAGS}

${DEVICE_OBJS}:${OBJ_DEVICE_DIR}/%.o:${SRC_DEVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${OPEN_SRC_DIR} -o $@ -c $< ${COV_CFLAGS}

${HOST_OBJS}:${OBJ_HOST_DIR}/%.o:${SRC_HOST_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${APPS_APP_OBJS}:${OBJ_APPS_APP_DIR}/%.o:${SRC_APPS_APP_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${APPS_DB2_OBJS}:${OBJ_APPS_DB2_DIR}/%.o:${SRC_APPS_DB2_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${APPS_ORACLE_OBJS}:${OBJ_APPS_ORACLE_DIR}/%.o:${SRC_APPS_ORACLE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${APPS_SYBASE_OBJS}:${OBJ_APPS_SYBASE_DIR}/%.o:${SRC_APPS_SYBASE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${APPS_HANA_OBJS}:${OBJ_APPS_HANA_DIR}/%.o:${SRC_APPS_HANA_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${SQLITE_OBJS}:${SRC_OPEN_SQLITE_DIR}/sqlite3.c
	${cc} ${cFLAGS} ${RD_CFLAGS} -I${INC_OPEN_SQLITE_DIR} -o $@ -c ${SRC_OPEN_SQLITE_DIR}/sqlite3.c
	
${AGENT_OBJS}:${OBJ_AGENT_DIR}/%.o:${SRC_AGENT_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_OPENSSL_DIR} \
	-I${INC_OPEN_TINYXML_DIR} -I${INC_OPEN_SNMP_DIR} -I${INC_OPEN_SNMP_MAIN_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${ROOT_EXEC_OBJS}:${OBJ_ROOT_EXEC_DIR}/%.o:${SRC_ROOT_EXEC_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${CRYPTO_OBJS}:${OBJ_CRYPTO_DIR}/%.o:${SRC_CRYPTO_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_TINYXML_DIR} \
	-o $@ -c $< ${COV_CFLAGS}
	
${SCRIPTSIGN_OBJS}:${OBJ_SCRIPTSIGN_DIR}/%.o:${SRC_SCRIPTSIGN_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_OPENSSL_DIR} -I${INC_OPEN_TINYXML_DIR} \
	-o $@ -c $< ${COV_CFLAGS}

${DATAMIGRATION_OBJS}:${OBJ_DATAMIGRATION_DIR}/%.o:${SRC_DATAMIGRATION_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} \
	-o $@ -c $< ${COV_CFLAGS}
	
${MONITOR_OBJS}:${OBJ_MONITOR_DIR}/%.o:${SRC_MONITOR_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} \
	-I${INC_OPEN_SNMP_DIR} -I${INC_OPEN_SNMP_MAIN_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${XMLCFG_OBJS}:${OBJ_XMLCFG_DIR}/%.o:${SRC_XMLCFG_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} \
	-o $@ -c $< ${COV_CFLAGS}
	
${AGENTCLI_OBJS}:${OBJ_AGENTCLI_DIR}/%.o:${SRC_AGENTCLI_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} \
	-o $@ -c $< ${COV_CFLAGS}
	
${GETINPUT_OBJS}:${OBJ_GETINPUT_DIR}/%.o:${SRC_GETINPUT_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} \
	-o $@ -c $< ${COV_CFLAGS}

${REST_OBJS}:${OBJ_REST_DIR}/%.o:${SRC_REST_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${ALARM_OBJS}:${OBJ_ALARM_DIR}/%.o:${SRC_ALARM_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_SNMP_DIR} \
        -I${INC_OPEN_SNMP_MAIN_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $< ${COV_CFLAGS}

${PLUGINFX_OBJS}:${OBJ_PLUGINFX_DIR}/%.o:${SRC_PLUGINFX_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${PLUGINS_OBJS}:${OBJ_PLUGINS_DIR}/%.o:${SRC_PLUGINS_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${PLUGINS_DEVICE_OBJS}:${OBJ_PLUGINS_DEVICE_DIR}/%.o:${SRC_PLUGINS_DEVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${PLUGINS_CLUSTER_OBJS}:${OBJ_PLUGINS_CLUSTER_DIR}/%.o:${SRC_PLUGINS_CLUSTER_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${PLUGINS_HOST_OBJS}:${OBJ_PLUGINS_HOST_DIR}/%.o:${SRC_PLUGINS_HOST_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${PLUGINS_DB2_OBJS}:${OBJ_PLUGINS_DB2_DIR}/%.o:${SRC_PLUGINS_DB2_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${PLUGINS_APP_OBJS}:${OBJ_PLUGINS_APP_DIR}/%.o:${SRC_PLUGINS_APP_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}	
	
${PLUGINS_ORACLE_OBJS}:${OBJ_PLUGINS_ORACLE_DIR}/%.o:${SRC_PLUGINS_ORACLE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}

${PLUGINS_SYBASE_OBJS}:${OBJ_PLUGINS_SYBASE_DIR}/%.o:${SRC_PLUGINS_SYBASE_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}
	
${PLUGINS_HANA_OBJS}:${OBJ_PLUGINS_HANA_DIR}/%.o:${SRC_PLUGINS_HANA_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -o $@ -c $< ${COV_CFLAGS}
    
${TEST_PLUGINS_TEST_OBJS}:${OBJ_TEST_PLUGINS_TEST_DIR}/%.o:${SRC_TEST_PLUGINS_TEST_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${TEST_ALL_INCLUDE} -I${BASE_INC} -I${BASE_OPEN_INC} -I${INC_SECUREC_DIR} -I${INC_OPEN_TINYXML_DIR} -o $@ -c $<

${JSON_OBJS}:${OBJ_JSON_DIR}/%.o:${SRC_JSON_DIR}/%.cpp
	${CPPC} ${CFLAGS} -I${INC_OPEN_JSON_DIR} -o $@ -c $<

${TINYXML_OBJS}:${OBJ_TINYXML_DIR}/%.o:${SRC_TINYXML_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${GCOV_COMPILE_FLAG}  -I${INC_OPEN_TINYXML_DIR} -o $@ -c $<

${SECUREC_OBJS}:${OBJ_SECUREC_DIR}/%.o:${SRC_SECUREC_DIR}/%.c
	${cc} ${cFLAGS} ${GCOV_COMPILE_FLAG}  -I${INC_SECUREC_DIR} -o $@ -c $<

#for test
${TEST_STUB_OBJS}:${SRC_TEST_STUB_DIR}/stub.cpp ${SRC_TEST_STUB_DIR}/stub.h
	${CPPC} -fPIC -Wall -MMD -D_SUSE10_64 -DBUILD_LCOV -fpermissive -c $< -o ${OBJ_TEST_STUB_DIR}/stub.o
	
${TEST_TOOLS_XMLCFG_OBJS}:${OBJ_TEST_TOOLS_XMLCFG_DIR}/%.o:${SRC_TEST_TOOLS_XMLCFG_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TOOLS_SCRIPTSIGN_OBJS}:${OBJ_TEST_TOOLS_SCRIPTSIGN_DIR}/%.o:${SRC_TEST_TOOLS_SCRIPTSIGN_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TOOLS_MONITOR_OBJS}:${OBJ_TEST_TOOLS_MONITOR_DIR}/%.o:${SRC_TEST_TOOLS_MONITOR_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TOOLS_GETINPUT_OBJS}:${OBJ_TEST_TOOLS_GETINPUT_DIR}/%.o:${SRC_TEST_TOOLS_GETINPUT_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TOOLS_DATAMIGRATION_OBJS}:${OBJ_TEST_TOOLS_DATAMIGRATION_DIR}/%.o:${SRC_TEST_TOOLS_DATAMIGRATION_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TOOLS_CRYPTO_OBJS}:${OBJ_TEST_TOOLS_CRYPTO_DIR}/%.o:${SRC_TEST_TOOLS_CRYPTO_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_TOOLS_AGENTCLI_OBJS}:${OBJ_TEST_TOOLS_AGENTCLI_DIR}/%.o:${SRC_TEST_TOOLS_AGENTCLI_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_ROOT_EXEC_OBJS}:${OBJ_TEST_ROOT_EXEC_DIR}/%.o:${SRC_TEST_ROOT_EXEC_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_REST_OBJS}:${OBJ_TEST_REST_DIR}/%.o:${SRC_TEST_REST_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINS_SQLSERVER_OBJS}:${OBJ_TEST_PLUGINS_SQLSERVER_DIR}/%.o:${SRC_TEST_PLUGINS_SQLSERVER_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINS_ORACLE_OBJS}:${OBJ_TEST_PLUGINS_ORACLE_DIR}/%.o:${SRC_TEST_PLUGINS_ORACLE_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@
    
${TEST_PLUGINS_SYBASE_OBJS}:${OBJ_TEST_PLUGINS_SYBASE_DIR}/%.o:${SRC_TEST_PLUGINS_SYBASE_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@
	
${TEST_PLUGINS_HANA_OBJS}:${OBJ_TEST_PLUGINS_HANA_DIR}/%.o:${SRC_TEST_PLUGINS_HANA_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINS_HOST_OBJS}:${OBJ_TEST_PLUGINS_HOST_DIR}/%.o:${SRC_TEST_PLUGINS_HOST_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINS_EXCHANGE_OBJS}:${OBJ_TEST_PLUGINS_EXCHANGE_DIR}/%.o:${SRC_TEST_PLUGINS_EXCHANGE_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINS_DEVICE_OBJS}:${OBJ_TEST_PLUGINS_DEVICE_DIR}/%.o:${SRC_TEST_PLUGINS_DEVICE_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINS_DB2_OBJS}:${OBJ_TEST_PLUGINS_DB2_DIR}/%.o:${SRC_TEST_PLUGINS_DB2_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@
	
${TEST_PLUGINS_APP_OBJS}:${OBJ_TEST_PLUGINS_APP_DIR}/%.o:${SRC_TEST_PLUGINS_APP_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINS_CLUSTER_OBJS}:${OBJ_TEST_PLUGINS_CLUSTER_DIR}/%.o:${SRC_TEST_PLUGINS_CLUSTER_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINS_OBJS}:${OBJ_TEST_PLUGINS_DIR}/%.o:${SRC_TEST_PLUGINS_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_PLUGINFX_OBJS}:${OBJ_TEST_PLUGINFX_DIR}/%.o:${SRC_TEST_PLUGINFX_DIR}/%.cpp
	${CPPC} ${CFLAGS}  ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_HOST_OBJS}:${OBJ_TEST_HOST_DIR}/%.o:${SRC_TEST_HOST_DIR}/%.cpp
	${CPPC} ${CFLAGS}  ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_DEVICE_OBJS}:${OBJ_TEST_DEVICE_DIR}/%.o:${SRC_TEST_DEVICE_DIR}/%.cpp
	${CPPC} ${CFLAGS}  ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_COMMON_OBJS}:${OBJ_TEST_COMMON_DIR}/%.o:${SRC_TEST_COMMON_DIR}/%.cpp
	${CPPC} ${CFLAGS} -DLINUX ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_CLUSTER_OBJS}:${OBJ_TEST_CLUSTER_DIR}/%.o:${SRC_TEST_CLUSTER_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_ARRAY_OBJS}:${OBJ_TEST_ARRAY_DIR}/%.o:${SRC_TEST_ARRAY_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@
	
${TEST_APPS_SQLSERVER_OBJS}:${OBJ_TEST_APPS_SQLSERVER_DIR}/%.o:${SRC_TEST_APPS_SQLSERVER_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_APPS_ORACLE_OBJS}:${OBJ_TEST_APPS_ORACLE_DIR}/%.o:${SRC_TEST_APPS_ORACLE_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@
    
${TEST_APPS_SYBASE_OBJS}:${OBJ_TEST_APPS_SYBASE_DIR}/%.o:${SRC_TEST_APPS_SYBASE_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@
	    
${TEST_APPS_HANA_OBJS}:${OBJ_TEST_APPS_HANA_DIR}/%.o:${SRC_TEST_APPS_HANA_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_APPS_EXCHANGE_OBJS}:${OBJ_TEST_APPS_EXCHANGE_DIR}/%.o:${SRC_TEST_APPS_EXCHANGE_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_APPS_DB2_OBJS}:${OBJ_TEST_APPS_DB2_DIR}/%.o:${SRC_TEST_APPS_DB2_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_APPS_OBJS}:${OBJ_TEST_APPS_APP_DIR}/%.o:${SRC_TEST_APPS_APP_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@
	
${TEST_ALARM_OBJS}:${OBJ_TEST_ALARM_DIR}/%.o:${SRC_TEST_ALARM_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_AGENT_OBJS}:${OBJ_TEST_AGENT_DIR}/%.o:${SRC_TEST_AGENT_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@
	
${TEST_CUNITPUB_OBJ}:${OBJ_TEST_CUNITPUB_DIR}/%.o:${SRC_TESET_CUNITPUB_DIR}/%.cpp
	${CPPC} ${CFLAGS} ${TEST_ALL_INCLUDE} -c $< -o $@

${TEST_MAIN_OBJS}:${OBJ_TEST_MAIN_DIR}/%.o:${SRC_TEST_MAIN_DIR}/%.cpp
	${CPPC} ${TEST_ALL_INCLUDE} -c $< -o $@
	
clean:
	find ${OBJ_DIR} -name "*.o" | xargs -L 1  rm -rf
	rm -rf ${TARGET}

